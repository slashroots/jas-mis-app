<md-dialog style="max-width:800px;">
    <md-toolbar>
        <div class="md-toolbar-tools dialog-box-header">
            <h2>Email Report</h2>
            <span flex></span>
            <md-button class="md-icon-button">
                <md-icon md-svg-src="" aria-label="Close dialog"></md-icon>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content>
        <table class="table table-hover table-mc-light-blue" ng-if="reports.length > 0 && multi_report">
            <thead>
            <tr>
                <th>Report Name</th>
                <th>Report Date</th>
                <th>Generated by</th>
                <th>Select</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="report in reports">
                <td><a href="/report/{{report._id}}">{{report.re_report_name}}</a></td>
                <td>{{report.re_report_date | date: 'medium'}}</td>
                <td>{{report.us_user.us_user_first_name}} {{report.us_user.us_user_last_name}}</td>
                <td><input type="checkbox" ng-click="selectedReport(report._id)"/></td>
            </tr>
            </tbody>

        </table>
        <md-content class="md-padding">
          <md-chips ng-model="selectedReps" md-autocomplete-snap md-require-match>
            <md-autocomplete
              md-selected-item = "selectedItem"
              md-search-text = "searchText"
              md-items="item in querySearch(searchText)"
              md-item-text="item.name"
              placeholder="Search for a representative">
              <span md-highlight-text="searchText">{{item.re_name}} :: {{item.re_email}}</span>
          </md-autocomplete>
            <md-chip-template>
               <span>
                 <strong>{{$chip.re_name}}</strong>
                 <em>({{$chip.re_email}})</em>
               </span>
             </md-chip-template>
          </md-chips>
          <md-subheader class="md-no-sticky">Representatives</md-subheader>
          <table class="table table-hover table-mc-light-blue">
              <thead>
              <tr>
                  <th>Representative Name</th>
                  <th>Email Address</th>
                  <th>Crop</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-repeat="rep in reps">
                  <td>{{rep.re_name}}</td>
                  <td>{{rep.re_email}}</td>
                  <td>{{rep.re_crop}}</td>
              </tr>
              </tbody>
          </table>
        </md-content>
    </md-dialog-content>
    <div class="md-actions">
        <md-button ng-click="cancel()" class="md-primary">
            Cancel
        </md-button>
        <md-button ng-click="emailBuyerReport()" class="md-primary">
            Email Report
        </md-button>
    </div>
</md-dialog>
